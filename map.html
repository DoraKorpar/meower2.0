<!DOCTYPE html>
<html>
<head>
</head>
<body>
  <script  type="text/javascript" charset="UTF-8" >

// Add 'Zoom in' context menu item and display 'Hello Holb...'
map.addEventListener('contextmenu', function(e) {
  e.items.push(new H.util.ContextItem({
  label: 'Hello Holberton School!',
  callback: setUpClickListener(map);
  }
  }));
});

/**
 * Clicking on the map displays an alert box containing the latitude and longitude
 * of the location pressed.
 */
// setUpClickListener(map);
function setUpClickListener(map) {
  map.addEventListener('contextmenu', function (evt) {
    var coord = map.screenToGeo(evt.currentPointer.viewportX,
      evt.currentPointer.viewportY);
    alert('Clicked at ' + Math.abs(coord.lat.toFixed(4)) +
      ((coord.lat > 0) ? 'N' : 'S') +
      ' ' + Math.abs(coord.lng.toFixed(4)) +
      ((coord.lng > 0) ? 'E' : 'W'));
  });
}

// Add event listeners:
map.addEventListener('tap', function(evt) {
  alert('Clicked at ' + evt.currentPointer.viewportX + ',' +
  evt.currentPointer.viewportY);
});

// Create the parameters for the reverse geocoding request:
var reverseGeocodingParameters = {
    prox: 'Math.abs(coord.lat.toFixed(4),Math.abs(coord.lng.toFixed(4)',
    mode: 'retrieveAddresses',
    maxresults: 1
  };

  // Define a callback function to process the response:
  // function onSuccess(result) {
  //   var location = result.Response.View[0].Result[0];

    // Create an InfoBubble at the returned location with
    // the address as its contents:
  //   ui.addBubble(new H.ui.InfoBubble({
  //     lat: location.Location.DisplayPosition.Latitude,
  //     lng: location.Location.DisplayPosition.Longitude
  //    }, { content: location.Location.Address.Label }));
  // };

// Get an instance of the geocoding service:
  // var geocoder = platform.getGeocodingService();

  // Call the geocode method with the geocoding parameters,
  // the callback and an error callback function (called if a
  // communication error occurs):
  // geocoder.reverseGeocode(
  //   reverseGeocodingParameters,
  //   onSuccess,
  //   function(e) { alert(e); });




/**
 * Processes reverse geocoder response and
 * adds a context menu item showing the associated address.
 */
// function onRGCResult(result, contextMenuEvent) {
//   var addressLabel = result.Response.View[0].Result[0]; // TODO: find the response JSON path to
// //get the address label.
//   contextMenuEvent.items.push(addressLabel); // TODO: add the address label as a context
// //menu item.
//   // Dispatch the context menu event again for all attached listeners to act with
// //new added item(s).
//   contextMenuEvent.currentTarget.dispatchEvent(contextMenuEvent);
// }
//

  </script>
</body>
</html>
